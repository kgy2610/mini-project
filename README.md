# 🐶 MINI-PROJECT-MUNGCHIVE 
> ChatGPT API를 활용한 견종 정보 백과 챗봇


## 🖥️ 프로젝트 소개
> FastAPI와 OpenAI API를 활용하여, 사용자가 견종 이름을 입력하면 해당 견종의 정보를 챗봇 형식으로 알려주는 웹 기반 애플리케이션입니다.
견종의 이름, 크기, 체고, 출신, 체중, 이름 유래, 주의사항 등을 대화 형식으로 제공하며,
로그인한 유저는 질문과 응답 기록을 저장할 수 있습니다.

# ⚙️ 실행 방법
```
uvicorn main:app --reload
```
접속: <http://127.0.0.1:8000>

# 📍 API 엔드포인트
|HTTP 메서드|엔드포인트|설명|
|------|---|---|
|post|/register|회원가입|
|post|/login|로그인|
|post|/chat|사용자의 질문 전송 및 응답 받기|
|get|/history/{username}|유저별 질문/답변 기록 조회|

## 📤 요청/응답 설정
```
POST /register
{
   "userId": "user01",
   "pwd": "pass123!"
}
{
   "message": "회원가입 완료!"
}
```
```
POST /login
{
   "userId": "user01",
   "pwd": "pass123!"
}
{
   "message": "로그인 성공!"
}
```
```
POST /chat
{
   "userId": "user01",
   "question": "푸들에 대해 알려줘"
}
{
   "question": "푸들에 대해 알려줘",
   "answer": "푸들은 프랑스에서..."
}
```
```
GET /history/user01
[
   {
      "question": "푸들에 대해 알려줘",
      "answer": "푸들은 프랑스에서..."
   },
   {
      "question": "시바견에 대해 알려줘",
      "answer": "시바견은 일본에서..."
   }
]
```
## ⛔ 예외처리 설계
### 회원가입
|조건|상태코드|메세지|
|------|----------|--------|
|아이디 == 비밀번호|400|"아이디와 비밀번호는 같을 수 없습니다."|
|비밀번호 5자 미만|400|"비밀번호는 최소 5자 이상이어야 합니다."|
|특수문자 미포함|400|"비밀번호에 최소 하나의 특수문자를 포함해야 합니다."|

### 로그인
|조건|상태코드|메세지|
|------|----------|-------|
|아이디 및 비밀번호 불일치|401|"아이디 또는 비밀번호가 틀렸습니다.|

### 질문 입력
|조건|상태코드|메시지|
|------|----------|--------|
|"(견종)에 대해 알려줘" 형식이 아닐 때|400|질문은 '(견종)에 대해 알려줘' 형식으로 입력해야 합니다.|

# 📦 요청/응답 스키마 (Pydantic)
## RegisterRequest
```json
{
   "userId": "string",
   "pwd": "string"
}
```

## ChatRequest
```json
{
   "userId": "string",
   "question": "푸들에 대해 알려줘"
}
```

## ChatResponse / HistoryItem 
```json
{
  "question": "푸들에 대해 알려줘",
  "answer": "푸들은 프랑스에서 유래한 견종으로..."
}
```
### 추가 설명
> - 'userId': 문자열, 회원 아이디
> - 'pwd': 문자열, 최소 5자 + 특수문자 1개 포함
> - 'question': 반드시 "(견종)에 대해 알려줘" 형식으로 작성
> - 'answer': OpenAI/딕서너리 기반 응답 텍스트

# 🧱 WBS (Work Breakdown Structure)
###### 250610
1. 프로젝트 초기 설정
   - [x] 레포지토리 생성
   - [x] 프로젝트 주제 확정
   - [x] WBS작성
   - [x] 와이어프레임 작성 (채팅 UI 스케치)
   - <https://www.figma.com/design/IDBNwx6rTty0A20fEZEYgN/Untitled?node-id=0-1&t=wrVE97JsgdbGolaA-1>

2. 백엔드 환경 설정
   - [x] Python 가상환경 생성 및 활성화
   - [x] FastAPI 기본 구조 세팅
   - [x] CORS 설정 (프론트와 연결 위한 허용 설정)

         
3. 프론트엔드 초기 설정
   - [x] 템플릿 폴더 구조 생성
   - [x] 기본 HTML, CSS 파일 생성
      
4. 기본 구조 설계 (25.06.10)
   - [x] API 엔드포인트 설계
   - [x] 스키마 설계(Pydantic)
   - [x] UI/UX 구조 계획

###### 250611
1. ChatGPT API 연동
   - [x] ChatGPT API 연동 함수 작성
   - [x] 채팅 엔드 포인트 구현
   - [x] API 요청/응답 테스트
   - [x] 에러 처리 로직 추가

2. 채팅 UI 구현
   - [x] 기본 HTML 구저 작성
   - [x] 메세지 전송 기능 구현
   - [x] 백엔드 API 호출 함수 작성
   - [x] 비동기 통신 구현
   - [x] 메세지 화면 출력 기능
   - [x] 입력창 초기화 기능
   - [x] 에러처리
   - [x] 기본 CSS 적용
   - [x] 로딩 상태 표시
         
3. 사용자 인증
   - [x] 데이터베이스 연결 설정
   - [x] 사용자 모델 및 테이블 생성
   - [x] 회원가입 엔드포인트 구현
   - [x] 로그인 엔드포인트 구현
   - [] 로그인 유지 기능 구현

###### 250612
1. 채팅 데이터 저장 기능 구현
   - [ ] 채팅 기록 저장 엔드포인트 구현
   - [ ] 사용자별 채팅 기록 조회 기능 구현
   - [ ] 채팅 기록 프론트엔드 연동
   - [ ] 페이지 새로고침시 채팅기록 복원

2. 기능 개선 및 최적화
   - [ ] 메세지 전송 후 입력창 비우기
   - [ ] 전송 중일 때 입력창 비활성화
   - [ ] 비로그인 시 채팅 기능 차단
         
3. 프로젝트 마무리
   - [ ] 전체 기능 테스트
   - [ ] 보안 점검
   - [ ] API 테스트
   - [ ] README 파일 작성
   - [ ] 시연영상 제작
   - [ ] 파일 제출
